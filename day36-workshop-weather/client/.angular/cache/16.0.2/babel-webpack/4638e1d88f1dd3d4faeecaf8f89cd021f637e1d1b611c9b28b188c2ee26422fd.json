{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild, inject } from '@angular/core';\nimport { CameraService } from '../camera.service';\nimport { Router } from '@angular/router';\nimport { dataURLtoFile } from '../utils';\nimport { firstValueFrom } from 'rxjs';\nlet UploadComponent = class UploadComponent {\n  constructor() {\n    this.photo = \"\";\n    this.cameraSvc = inject(CameraService);\n    this.router = inject(Router);\n  }\n  ngOnInit() {\n    if (!this.cameraSvc.photo) {\n      this.router.navigate(['/']);\n      return;\n    }\n    this.photo = this.cameraSvc.photo;\n  }\n  upload() {\n    const f = dataURLtoFile(this.photo);\n    firstValueFrom(this.cameraSvc.upload(f, this.comments.nativeElement)).then(() => alert('uploaded')).catch(error => alert(JSON.stringify(error)));\n  }\n};\n__decorate([ViewChild('comment')], UploadComponent.prototype, \"comments\", void 0);\nUploadComponent = __decorate([Component({\n  selector: 'app-upload',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.css']\n})], UploadComponent);\nexport { UploadComponent };","map":{"version":3,"names":["Component","ViewChild","inject","CameraService","Router","dataURLtoFile","firstValueFrom","UploadComponent","constructor","photo","cameraSvc","router","ngOnInit","navigate","upload","f","comments","nativeElement","then","alert","catch","error","JSON","stringify","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\super\\OneDrive\\Desktop\\camera\\src\\app\\upload\\upload.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild, inject } from '@angular/core';\nimport { CameraService } from '../camera.service';\nimport { Router } from '@angular/router';\nimport { dataURLtoFile } from '../utils';\nimport { firstValueFrom } from 'rxjs';\n\n\n\n@Component({\n  selector: 'app-upload',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.css']\n})\nexport class UploadComponent implements OnInit {\n\n\n  @ViewChild('comment')\ncomments!: ElementRef;\n\n\n  photo = \"\"\n\n  cameraSvc = inject(CameraService)\n  router = inject(Router)\n\n  \n  ngOnInit() {\n    if (!this.cameraSvc.photo) {\n      this.router.navigate(['/'])\n      return\n    }\n\n    this.photo = this.cameraSvc.photo\n  }\n\n  upload() {\n    \n    const f = dataURLtoFile(this.photo)\n    firstValueFrom(this.cameraSvc.upload(f, this.comments.nativeElement))\n    .then(() => alert('uploaded'))\n    .catch(error => alert(JSON.stringify(error)))\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAsBC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAChF,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,aAAa,QAAQ,UAAU;AACxC,SAASC,cAAc,QAAQ,MAAM;AASrC,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAA5BC,YAAA;IAOE,KAAAC,KAAK,GAAG,EAAE;IAEV,KAAAC,SAAS,GAAGR,MAAM,CAACC,aAAa,CAAC;IACjC,KAAAQ,MAAM,GAAGT,MAAM,CAACE,MAAM,CAAC;EAoBzB;EAjBEQ,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACF,SAAS,CAACD,KAAK,EAAE;MACzB,IAAI,CAACE,MAAM,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MAC3B;;IAGF,IAAI,CAACJ,KAAK,GAAG,IAAI,CAACC,SAAS,CAACD,KAAK;EACnC;EAEAK,MAAMA,CAAA;IAEJ,MAAMC,CAAC,GAAGV,aAAa,CAAC,IAAI,CAACI,KAAK,CAAC;IACnCH,cAAc,CAAC,IAAI,CAACI,SAAS,CAACI,MAAM,CAACC,CAAC,EAAE,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,CAAC,CACpEC,IAAI,CAAC,MAAMC,KAAK,CAAC,UAAU,CAAC,CAAC,CAC7BC,KAAK,CAACC,KAAK,IAAIF,KAAK,CAACG,IAAI,CAACC,SAAS,CAACF,KAAK,CAAC,CAAC,CAAC;EAC/C;CAED;AA1BDG,UAAA,EADGvB,SAAS,CAAC,SAAS,CAAC,C,gDACD;AAJTM,eAAe,GAAAiB,UAAA,EAL3BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWpB,eAAe,CA8B3B;SA9BYA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}