{"ast":null,"code":"import Dexie from \"dexie\";\nimport * as i0 from \"@angular/core\";\nclass CartRepository extends Dexie {\n  constructor() {\n    super('cart');\n    //Create database\n    this.version(1).stores({\n      carts: 'cartId'\n    });\n    this.carts = this.table('carts');\n  }\n  getCartById(cartId) {\n    return this.carts.where(\"cartId\").equals(cartId).toArray().then(result => result.length > 0 ? result[0] : null);\n  }\n  getCarts() {\n    return this.carts.toArray();\n  }\n  saveCart(cart) {\n    return this.carts.add(cart);\n  }\n}\nCartRepository.ɵfac = function CartRepository_Factory(t) {\n  return new (t || CartRepository)();\n};\nCartRepository.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartRepository,\n  factory: CartRepository.ɵfac\n});\nexport { CartRepository };","map":{"version":3,"names":["Dexie","CartRepository","constructor","version","stores","carts","table","getCartById","cartId","where","equals","toArray","then","result","length","getCarts","saveCart","cart","add","factory","ɵfac"],"sources":["C:\\Users\\super\\OneDrive\\Desktop\\day39\\client\\src\\app\\cart.repository.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport Dexie from \"dexie\";\r\nimport { Cart } from \"./models\";\r\n\r\n@Injectable()\r\nexport class CartRepository extends Dexie {\r\n    \r\n    carts!: Dexie.Table<Cart, string>\r\n\r\n    \r\n    constructor() {\r\n        super('cart')\r\n        //Create database\r\n        this.version(1).stores({\r\n            carts: 'cartId'\r\n        })\r\n        this.carts = this.table('carts')\r\n    }\r\n\r\n\r\n    getCartById(cartId: string): Promise<Cart|null> {\r\n        return this.carts.where(\"cartId\").equals(cartId).toArray()\r\n        .then(result => result.length > 0? result[0]: null)\r\n    }\r\n\r\n\r\n    getCarts(): Promise<Cart[]> {\r\n        return this.carts.toArray()\r\n    }\r\n\r\n\r\n    saveCart(cart: Cart) {\r\n        return this.carts.add(cart)\r\n    }\r\n\r\n\r\n}"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;;AAGzB,MACaC,cAAe,SAAQD,KAAK;EAKrCE,YAAA;IACI,KAAK,CAAC,MAAM,CAAC;IACb;IACA,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC;MACnBC,KAAK,EAAE;KACV,CAAC;IACF,IAAI,CAACA,KAAK,GAAG,IAAI,CAACC,KAAK,CAAC,OAAO,CAAC;EACpC;EAGAC,WAAWA,CAACC,MAAc;IACtB,OAAO,IAAI,CAACH,KAAK,CAACI,KAAK,CAAC,QAAQ,CAAC,CAACC,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,EAAE,CACzDC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,MAAM,GAAG,CAAC,GAAED,MAAM,CAAC,CAAC,CAAC,GAAE,IAAI,CAAC;EACvD;EAGAE,QAAQA,CAAA;IACJ,OAAO,IAAI,CAACV,KAAK,CAACM,OAAO,EAAE;EAC/B;EAGAK,QAAQA,CAACC,IAAU;IACf,OAAO,IAAI,CAACZ,KAAK,CAACa,GAAG,CAACD,IAAI,CAAC;EAC/B;;AA5BShB,cAAe,C;mBAAfA,cAAc;AAAA;AAAdA,cAAe,C;SAAfA,cAAc;EAAAkB,OAAA,EAAdlB,cAAc,CAAAmB;AAAA;SAAdnB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}