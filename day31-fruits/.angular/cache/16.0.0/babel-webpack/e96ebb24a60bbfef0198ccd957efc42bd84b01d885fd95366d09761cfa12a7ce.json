{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, inject } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nlet FormComponent = class FormComponent {\n  constructor() {\n    this.factsArray = [];\n    this.nameField = 'name';\n    //@Autowired inject >= v14\n    this.fb = inject(FormBuilder);\n  }\n  //Constructor injection\n  //constructor(private fb: FormBuilder) {}\n  ngOnInit() {\n    this.friendsForm = this.createForm2();\n    // or sessionStorage(store string)\n    const data = localStorage.getItem('friend');\n    if (!!data) {\n      this.friend = JSON.parse(data);\n      console.info('friends from storage:' + this.friend);\n    }\n  }\n  createForm() {\n    return new FormGroup({\n      name: new FormControl('', [Validators]),\n      email: new FormControl(''),\n      age: new FormControl(10),\n      gender: new FormControl('')\n    });\n  }\n  processForm() {\n    this.friend = this.friendsForm.value;\n    console.info('form:' + this.friend);\n    localStorage.setItem('friend', JSON.stringify(this.friend));\n    this.friendsForm.reset();\n  }\n  invalidField(ctrlName) {\n    return !!(this.friendsForm.get(ctrlName)?.invalid && this.friendsForm.get(ctrlName)?.dirty);\n  }\n  createForm2() {\n    this.factsArray = this.fb.array([], [Validators.minLength(1)]);\n    return this.fb.group({\n      name: this.fb.control('', [Validators.required, Validators.minLength(3)]),\n      email: this.fb.control('', [Validators.required, Validators.email]),\n      age: this.fb.control(10, [Validators.min(10)]),\n      gender: this.fb.control(''),\n      facts: this.factsArray\n    });\n  }\n  addAFact() {\n    this.factsArray.push(this.createFriendsFact());\n  }\n  removeFact() {\n    this.factsArray.removeAt(1);\n  }\n  invalidForm() {\n    return this.friendsForm.invalid || this.factsArray.length <= 0;\n  }\n  createFriendsFact() {\n    return this.fb.group({\n      fact: new FormControl('', [Validators.minLength(3), Validators.maxLength(16)]),\n      value: this.fb.control('', [Validators.minLength(5)])\n    });\n  }\n};\nFormComponent = __decorate([Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})], FormComponent);\nexport { FormComponent };","map":{"version":3,"names":["Component","inject","FormBuilder","FormControl","FormGroup","Validators","FormComponent","constructor","factsArray","nameField","fb","ngOnInit","friendsForm","createForm2","data","localStorage","getItem","friend","JSON","parse","console","info","createForm","name","email","age","gender","processForm","value","setItem","stringify","reset","invalidField","ctrlName","get","invalid","dirty","array","minLength","group","control","required","min","facts","addAFact","push","createFriendsFact","removeFact","removeAt","invalidForm","length","fact","maxLength","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\super\\OneDrive\\Desktop\\fruits\\src\\app\\form\\form.component.ts"],"sourcesContent":["import { Component, OnInit, inject } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Friend } from '../models';\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})\nexport class FormComponent implements OnInit{\n   \n  friendsForm!: FormGroup\n  factsArray! : [] = []\n  nameField = 'name'\n  friend!: Friend\n\n //@Autowired inject >= v14\n  fb: FormBuilder = inject(FormBuilder)\n\n\n  //Constructor injection\n  //constructor(private fb: FormBuilder) {}\n\n\n  ngOnInit() {\n       this.friendsForm = this.createForm2()\n       // or sessionStorage(store string)\n       const data = localStorage.getItem('friend')\n       if (!!data){\n        this.friend = JSON.parse(data)\n        console.info('friends from storage:' + this.friend)\n       }\n   }\n\n\n   private createForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl<string>('', [Validators]),\n      email: new FormControl<string>(''),\n      age: new FormControl<number>(10),\n      gender: new FormControl<string>('')\n    })\n   }\n\n\n   processForm() {\n    this.friend = this.friendsForm.value\n    console.info('form:' +  this.friend)\n   localStorage.setItem('friend', JSON.stringify(this.friend))\n    this.friendsForm.reset()\n   }\n\n\n   invalidField(ctrlName: string): boolean {\n    return !!(this.friendsForm.get(ctrlName)?.invalid && this.friendsForm.get(ctrlName)?.dirty)\n   }\n\n\n\nprivate createForm2(): FormGroup {\n this.factsArray = this.fb.array([], [ Validators.minLength(1)])\n  return this.fb.group({\n    name : this.fb.control<string>('', [ Validators.required, Validators.minLength(3)]),\n    email: this.fb.control<string>('', [Validators.required, Validators.email]),\n    age: this.fb.control<number>(10, [Validators.min(10)]),\n    gender: this.fb.control<string>('')\n    facts: this.factsArray\n  })\n}\n\naddAFact() {\n  this.factsArray.push(this.createFriendsFact());\n}\n\nremoveFact(){\n  this.factsArray.removeAt(1)\n}\n\ninvalidForm() {\n  return this.friendsForm.invalid || this.factsArray.length <= 0\n}\n\nprivate createFriendsFact(): FormGroup {\n  return this.fb.group({\n    fact: new FormControl<string>('', [Validators.minLength(3), Validators.maxLength(16)]),\n    value: this.fb.control('', [Validators.minLength(5)])\n  })\n}\n\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,MAAM,QAAQ,eAAe;AACzD,SAASC,WAAW,EAAEC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAQhF,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EAA1BC,YAAA;IAGE,KAAAC,UAAU,GAAS,EAAE;IACrB,KAAAC,SAAS,GAAG,MAAM;IAGnB;IACC,KAAAC,EAAE,GAAgBT,MAAM,CAACC,WAAW,CAAC;EAyEvC;EAtEE;EACA;EAGAS,QAAQA,CAAA;IACH,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,WAAW,EAAE;IACrC;IACA,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC3C,IAAI,CAAC,CAACF,IAAI,EAAC;MACV,IAAI,CAACG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;MAC9BM,OAAO,CAACC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAACJ,MAAM,CAAC;;EAExD;EAGQK,UAAUA,CAAA;IACjB,OAAO,IAAIlB,SAAS,CAAC;MACnBmB,IAAI,EAAE,IAAIpB,WAAW,CAAS,EAAE,EAAE,CAACE,UAAU,CAAC,CAAC;MAC/CmB,KAAK,EAAE,IAAIrB,WAAW,CAAS,EAAE,CAAC;MAClCsB,GAAG,EAAE,IAAItB,WAAW,CAAS,EAAE,CAAC;MAChCuB,MAAM,EAAE,IAAIvB,WAAW,CAAS,EAAE;KACnC,CAAC;EACH;EAGAwB,WAAWA,CAAA;IACV,IAAI,CAACV,MAAM,GAAG,IAAI,CAACL,WAAW,CAACgB,KAAK;IACpCR,OAAO,CAACC,IAAI,CAAC,OAAO,GAAI,IAAI,CAACJ,MAAM,CAAC;IACrCF,YAAY,CAACc,OAAO,CAAC,QAAQ,EAAEX,IAAI,CAACY,SAAS,CAAC,IAAI,CAACb,MAAM,CAAC,CAAC;IAC1D,IAAI,CAACL,WAAW,CAACmB,KAAK,EAAE;EACzB;EAGAC,YAAYA,CAACC,QAAgB;IAC5B,OAAO,CAAC,EAAE,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACD,QAAQ,CAAC,EAAEE,OAAO,IAAI,IAAI,CAACvB,WAAW,CAACsB,GAAG,CAACD,QAAQ,CAAC,EAAEG,KAAK,CAAC;EAC5F;EAIKvB,WAAWA,CAAA;IAClB,IAAI,CAACL,UAAU,GAAG,IAAI,CAACE,EAAE,CAAC2B,KAAK,CAAC,EAAE,EAAE,CAAEhC,UAAU,CAACiC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9D,OAAO,IAAI,CAAC5B,EAAE,CAAC6B,KAAK,CAAC;MACnBhB,IAAI,EAAG,IAAI,CAACb,EAAE,CAAC8B,OAAO,CAAS,EAAE,EAAE,CAAEnC,UAAU,CAACoC,QAAQ,EAAEpC,UAAU,CAACiC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACnFd,KAAK,EAAE,IAAI,CAACd,EAAE,CAAC8B,OAAO,CAAS,EAAE,EAAE,CAACnC,UAAU,CAACoC,QAAQ,EAAEpC,UAAU,CAACmB,KAAK,CAAC,CAAC;MAC3EC,GAAG,EAAE,IAAI,CAACf,EAAE,CAAC8B,OAAO,CAAS,EAAE,EAAE,CAACnC,UAAU,CAACqC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;MACtDhB,MAAM,EAAE,IAAI,CAAChB,EAAE,CAAC8B,OAAO,CAAS,EAAE,CAAC;MACnCG,KAAK,EAAE,IAAI,CAACnC;KACb,CAAC;EACJ;EAEAoC,QAAQA,CAAA;IACN,IAAI,CAACpC,UAAU,CAACqC,IAAI,CAAC,IAAI,CAACC,iBAAiB,EAAE,CAAC;EAChD;EAEAC,UAAUA,CAAA;IACR,IAAI,CAACvC,UAAU,CAACwC,QAAQ,CAAC,CAAC,CAAC;EAC7B;EAEAC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACrC,WAAW,CAACuB,OAAO,IAAI,IAAI,CAAC3B,UAAU,CAAC0C,MAAM,IAAI,CAAC;EAChE;EAEQJ,iBAAiBA,CAAA;IACvB,OAAO,IAAI,CAACpC,EAAE,CAAC6B,KAAK,CAAC;MACnBY,IAAI,EAAE,IAAIhD,WAAW,CAAS,EAAE,EAAE,CAACE,UAAU,CAACiC,SAAS,CAAC,CAAC,CAAC,EAAEjC,UAAU,CAAC+C,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACtFxB,KAAK,EAAE,IAAI,CAAClB,EAAE,CAAC8B,OAAO,CAAC,EAAE,EAAE,CAACnC,UAAU,CAACiC,SAAS,CAAC,CAAC,CAAC,CAAC;KACrD,CAAC;EACJ;CAGC;AAjFYhC,aAAa,GAAA+C,UAAA,EALzBrD,SAAS,CAAC;EACTsD,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWlD,aAAa,CAiFzB;SAjFYA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}